"use strict";(self.webpackChunksoftware_construction=self.webpackChunksoftware_construction||[]).push([[8902],{6121:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>u,frontMatter:()=>c,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"angular_from_scratch/communication_between_components_input_and_output","title":"Comunicaci\xf3n entre componentes: @Input y @Output","description":"En Angular, las aplicaciones se construyen como \xe1rboles de componentes, donde:","source":"@site/docs/03_angular_from_scratch/08_communication_between_components_input_and_output.md","sourceDirName":"03_angular_from_scratch","slug":"/angular_from_scratch/communication_between_components_input_and_output","permalink":"/Software_Construction/en/docs/angular_from_scratch/communication_between_components_input_and_output","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/03_angular_from_scratch/08_communication_between_components_input_and_output.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8},"sidebar":"tutorialSidebar","previous":{"title":"Signals","permalink":"/Software_Construction/en/docs/angular_from_scratch/signals"},"next":{"title":"Servicios en Angular e Inyecci\xf3n de Dependencias","permalink":"/Software_Construction/en/docs/angular_from_scratch/services_in_angular_and_dependency_injection"}}');var d=t(4848),i=t(8453);const c={sidebar_position:8},r="Comunicaci\xf3n entre componentes: @Input y @Output",a={},l=[{value:"<code>@Input()</code>",id:"input",level:2},{value:"<code>@Output()</code>",id:"output",level:2},{value:"Diagrama de Secuencia",id:"diagrama-de-secuencia",level:2},{value:"Cambios en versiones m\xe1s recientes",id:"cambios-en-versiones-m\xe1s-recientes",level:2},{value:"Vision general de ambos enfoques",id:"vision-general-de-ambos-enfoques",level:3},{value:"Entrada de datos: <code>@Input()</code> vs <code>input()</code>",id:"entrada-de-datos-input-vs-input",level:3},{value:"Salida de datos: <code>@Output()</code> vs <code>output()</code>",id:"salida-de-datos-output-vs-output",level:3},{value:"Referencias",id:"referencias",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsxs)(n.h1,{id:"comunicaci\xf3n-entre-componentes-input-y-output",children:["Comunicaci\xf3n entre componentes: ",(0,d.jsx)(n.code,{children:"@Input"})," y ",(0,d.jsx)(n.code,{children:"@Output"})]})}),"\n",(0,d.jsx)(n.p,{children:"En Angular, las aplicaciones se construyen como \xe1rboles de componentes, donde:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Componentes padres"})," contienen a componentes hijos"]}),"\n",(0,d.jsxs)(n.li,{children:["Se requiere ",(0,d.jsx)(n.strong,{children:"compartir datos del padre al hijo"})," (ej: propiedades)"]}),"\n",(0,d.jsxs)(n.li,{children:["O el ",(0,d.jsx)(n.strong,{children:"hijo debe notificar eventos al padre"})," (ej: clic, selecci\xf3n)"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"Para ello, Angular ofrece dos mecanismos principales:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"@Input()"}),": Comunicaci\xf3n de padre a hijo (datos)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"@Output()"}),": Comunicaci\xf3n de hijo a padre (eventos)"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"Esto favorece un dise\xf1o desacoplado, escalable y testeable."}),"\n",(0,d.jsx)(n.h2,{id:"input",children:(0,d.jsx)(n.code,{children:"@Input()"})}),"\n",(0,d.jsxs)(n.p,{children:["El decorador ",(0,d.jsx)(n.code,{children:"@Input()"})," indica que una propiedad del componente puede recibir un valor desde su componente padre."]}),"\n",(0,d.jsx)(n.p,{children:"Por ejemplo, tenemos una tarjeta de estudiante que debe recibir los datos del estudiante desde un componente padre:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",metastring:'title="student-card.ts" showLineNumbers',children:"import { Component, Input } from '@angular/core';\nimport { Student } from '../models/student';\n\n@Component({\n  selector: 'app-student-card',\n  standalone: true,\n  templateUrl: './student-card.html',\n})\nexport class StudentCard {\n  @Input({ required: true }) student!: Student;\n}\n"})}),"\n",(0,d.jsxs)(n.p,{children:["El ",(0,d.jsx)(n.code,{children:"!"})," indica que el valor ser\xe1 inicializado por Angular. Desde Angular 16+ puedes usar ",(0,d.jsx)(n.code,{children:"{ required: true }"})," para validaci\xf3n m\xe1s estricta."]}),"\n",(0,d.jsx)(n.p,{children:"La lista de estudiantes, quien act\xfaa como componente padre env\xeda la informaci\xf3n del estudiante a la tarjeta:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-html",metastring:'title="student-list.html" showLineNumbers',children:'<app-student-card \n  *ngFor="let s of students" \n  [student]="s">\n</app-student-card>\n'})}),"\n",(0,d.jsxs)(n.p,{children:["El valor de la propiedad ",(0,d.jsx)(n.code,{children:"student"})," se pasa a cada componente hijo."]}),"\n",(0,d.jsx)(n.h2,{id:"output",children:(0,d.jsx)(n.code,{children:"@Output()"})}),"\n",(0,d.jsxs)(n.p,{children:["El decorador ",(0,d.jsx)(n.code,{children:"@Output()"})," declara una propiedad que emite un evento personalizado (con ",(0,d.jsx)(n.code,{children:"EventEmitter"}),") al componente padre."]}),"\n",(0,d.jsx)(n.p,{children:"Por ejemplo, el componente hijo debe reportar al padre el estudiante seleccionado:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",metastring:'title="student-card.ts" showLineNumbers',children:"import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { Student } from '../models/student';\n\n@Component({\n  selector: 'app-student-card',\n  standalone: true,\n  templateUrl: './student-card.html',\n})\nexport class StudentCard {\n  @Input() student!: Student;\n  @Output() selected = new EventEmitter<Student>();\n\n  selectStudent() {\n    this.selected.emit(this.student);\n  }\n}\n"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-html",metastring:'title="student-card.html" showLineNumbers',children:'<div class="card" (click)="selectStudent()">\n  <h3>{{ student.fullName }}</h3>\n</div>\n'})}),"\n",(0,d.jsx)(n.p,{children:"Por su lado, el componente padre debe recibirlo y hacer alg\xfan tratamiento con el dato emitido:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-html",metastring:'title="student-list.html" showLineNumbers',children:'<app-student-card \n  *ngFor="let s of students" \n  [student]="s" \n  (selected)="handleSelection($event)">\n</app-student-card>\n'})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",metastring:'title="student-list.ts" showLineNumbers',children:"handleSelection(student: Student) {\n  this.selectedStudent = student;\n}\n"})}),"\n",(0,d.jsx)(n.h2,{id:"diagrama-de-secuencia",children:"Diagrama de Secuencia"}),"\n",(0,d.jsx)(n.mermaid,{value:'sequenceDiagram\n    autonumber\n    actor Usuario\n    participant StudentList as Componente Padre<br/>(StudentList)\n    participant StudentCard as Componente Hijo<br/>(StudentCard)\n    \n    Usuario->>StudentList: Carga del componente\n    StudentList->>StudentCard: [student]="s" (usa @Input)\n    activate StudentCard\n    StudentCard--\x3e>StudentList: Renderiza con datos recibidos\n\n    Usuario->>StudentCard: Clic en tarjeta\n    StudentCard->>StudentCard: selected.emit(student)\n    StudentCard--\x3e>StudentList: (selected)="handleSelection($event)"\n    StudentList->>StudentList: this.selectedStudent = $event'}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["El usuario inicia la carga del componente padre ",(0,d.jsx)(n.code,{children:"StudentList"}),"."]}),"\n",(0,d.jsxs)(n.li,{children:["Este itera y pasa datos a los componentes hijos ",(0,d.jsx)(n.code,{children:"StudentCard"})," mediante la propiedad ",(0,d.jsx)(n.code,{children:"@Input() student"}),"."]}),"\n",(0,d.jsx)(n.li,{children:"El componente hijo se renderiza con esos datos."}),"\n",(0,d.jsx)(n.li,{children:"El usuario hace clic en una tarjeta."}),"\n",(0,d.jsxs)(n.li,{children:["El hijo emite un evento con ",(0,d.jsx)(n.code,{children:"@Output() selected.emit(student)"}),"."]}),"\n",(0,d.jsxs)(n.li,{children:["El componente padre escucha ese evento con ",(0,d.jsx)(n.code,{children:'(selected)="handleSelection($event)"'}),"."]}),"\n",(0,d.jsxs)(n.li,{children:["El padre actualiza su estado interno (",(0,d.jsx)(n.code,{children:"selectedStudent"})," o similar)."]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"cambios-en-versiones-m\xe1s-recientes",children:"Cambios en versiones m\xe1s recientes"}),"\n",(0,d.jsxs)(n.p,{children:["Con la llegada de Angular 16 y su consolidaci\xf3n en Angular 20, se introduce una nueva forma de trabajar con ",(0,d.jsx)(n.strong,{children:"comunicaci\xf3n entre componentes"})," que prioriza la ",(0,d.jsx)(n.strong,{children:"reactividad expl\xedcita"}),", ",(0,d.jsx)(n.strong,{children:"la eliminaci\xf3n de"})," ",(0,d.jsx)(n.code,{children:"Zone.js"})," y el uso de ",(0,d.jsx)(n.strong,{children:"signals"}),". Esto representa un cambio paradigm\xe1tico frente al enfoque tradicional basado en decoradores como ",(0,d.jsx)(n.code,{children:"@Input()"})," y ",(0,d.jsx)(n.code,{children:"@Output()"}),"."]}),"\n",(0,d.jsx)(n.h3,{id:"vision-general-de-ambos-enfoques",children:"Vision general de ambos enfoques"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Caracter\xedstica"}),(0,d.jsxs)(n.th,{children:[(0,d.jsx)(n.code,{children:"@Input()"})," / ",(0,d.jsx)(n.code,{children:"@Output()"})," (Cl\xe1sico)"]}),(0,d.jsxs)(n.th,{children:[(0,d.jsx)(n.code,{children:"input()"})," / ",(0,d.jsx)(n.code,{children:"output()"})," (Moderno)"]})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Paradigma"}),(0,d.jsx)(n.td,{children:"Imperativo / Declarativo parcial"}),(0,d.jsx)(n.td,{children:"Completamente declarativo y reactivo"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Decoradores"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"@Input()"}),", ",(0,d.jsx)(n.code,{children:"@Output()"})]}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"input()"})," y ",(0,d.jsx)(n.code,{children:"output()"})," desde ",(0,d.jsx)(n.code,{children:"@angular/core"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Reactividad"}),(0,d.jsxs)(n.td,{children:["Manual (requiere ",(0,d.jsx)(n.code,{children:"ngOnChanges()"})," para detectar)"]}),(0,d.jsx)(n.td,{children:"Reactiva por naturaleza (Signal tracking autom\xe1tico)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Mutabilidad"}),(0,d.jsx)(n.td,{children:"Mutables (acceso directo al campo)"}),(0,d.jsxs)(n.td,{children:["Inmutables por dise\xf1o (",(0,d.jsx)(n.code,{children:"readonly"}),", acceso controlado)"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Zona de cambios (Zone.js)"}),(0,d.jsx)(n.td,{children:"Requiere Zone.js para detecci\xf3n de cambios"}),(0,d.jsx)(n.td,{children:'No necesita Zone.js (ideal para apps "zoneless")'})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Legibilidad y trazabilidad"}),(0,d.jsx)(n.td,{children:"Menor claridad en flujos de actualizaci\xf3n"}),(0,d.jsxs)(n.td,{children:["Alto control y trazabilidad reactiva (",(0,d.jsx)(n.code,{children:"effect"}),", ",(0,d.jsx)(n.code,{children:"computed"}),")"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Aplicabilidad en SSR / SSG"}),(0,d.jsx)(n.td,{children:"Posible, pero propensa a errores"}),(0,d.jsx)(n.td,{children:"Mejor soporte con estado reactivo y desacoplado"})]})]})]}),"\n",(0,d.jsxs)(n.h3,{id:"entrada-de-datos-input-vs-input",children:["Entrada de datos: ",(0,d.jsx)(n.code,{children:"@Input()"})," vs ",(0,d.jsx)(n.code,{children:"input()"})]}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:["Forma cl\xe1sica: ",(0,d.jsx)(n.code,{children:"@Input()"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"@Input() student!: Student;\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Permite recibir valores desde el componente padre."}),"\n",(0,d.jsxs)(n.li,{children:["No es reactivo. Para reaccionar a cambios se necesita ",(0,d.jsx)(n.code,{children:"ngOnChanges()"}),"."]}),"\n",(0,d.jsxs)(n.li,{children:["Usado directamente en la plantilla: ",(0,d.jsx)(n.code,{children:"{{ student.name }}"})]}),"\n",(0,d.jsx)(n.li,{children:"Dif\xedcil de componer y testear."}),"\n",(0,d.jsx)(n.li,{children:"Cambios no rastreados autom\xe1ticamente."}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:["Forma moderna: ",(0,d.jsx)(n.code,{children:"input(): InputSignal<T>"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"readonly student = input.required<Student>();\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Se accede como un signal: ",(0,d.jsx)(n.code,{children:"student()"})]}),"\n",(0,d.jsxs)(n.li,{children:["Es completamente reactivo: usable en ",(0,d.jsx)(n.code,{children:"computed()"}),", ",(0,d.jsx)(n.code,{children:"effect()"}),", etc."]}),"\n",(0,d.jsx)(n.li,{children:"No necesita lifecycle hooks."}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"Por ejemplo:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"readonly student = input.required<Student>();\nreadonly fullName = computed(() => `${this.student().first} ${this.student().last}`);\n"})}),"\n",(0,d.jsx)(n.p,{children:"Sus ventajas:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"M\xe1s declarativo y testable."}),"\n",(0,d.jsx)(n.li,{children:"Integrado con el ecosistema de signals."}),"\n",(0,d.jsx)(n.li,{children:"Compatible con aplicaciones sin Zone.js."}),"\n",(0,d.jsx)(n.li,{children:"Se puede validar como requerido desde el decorador."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.h3,{id:"salida-de-datos-output-vs-output",children:["Salida de datos: ",(0,d.jsx)(n.code,{children:"@Output()"})," vs ",(0,d.jsx)(n.code,{children:"output()"})]}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:["Forma cl\xe1sica: ",(0,d.jsx)(n.code,{children:"@Output()"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"import { Output, EventEmitter } from '@angular/core';\n@Component({ selector: 'my-comp', template: `<button (click)=\"doIt()\">Click</button>` })\nexport class MyComp {\n  @Output() clicked = new EventEmitter<void>();\n  doIt() { this.clicked.emit(); }\n}\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:["Usa ",(0,d.jsx)(n.code,{children:"EventEmitter"}),", que:"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Extiende ",(0,d.jsx)(n.code,{children:"Subject"})," de RxJS."]}),"\n",(0,d.jsxs)(n.li,{children:["Tiene ",(0,d.jsx)(n.code,{children:".emit("}),"), ",(0,d.jsx)(n.code,{children:".subscribe()"})," y ",(0,d.jsx)(n.code,{children:".pipe()"})," (RxJS operators)."]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Compatible con template binding:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-html",children:'<my-comp (clicked)="onClick()"></my-comp>\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:["Forma moderna: ",(0,d.jsx)(n.code,{children:"output(): OutputEmitterRef"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"import { output, OutputEmitterRef } from '@angular/core';\n\n@Component({ \n   standalone: true, \n   selector: 'my-comp', \n   template: `<button (click)=\"doIt()\">Click</button>` \n})\nexport class MyComp {\n  clicked: OutputEmitterRef<void> = output();\n  doIt() { this.clicked.emit(); }\n}\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"output()"})," devuelve un ",(0,d.jsx)(n.code,{children:"OutputEmitterRef<T>"})]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Permite:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:".emit(value)"})," para enviar datos."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:".subscribe()"})," para escuchar program\xe1ticamente."]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Compatible con template binding:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-html",children:'<my-comp (clicked)="onClick()"></my-comp>\n'})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"Puedes recibir alias opcional:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ts",children:"aliasClick = output<{id: number}>({alias: 'select'});\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"referencias",children:"Referencias"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Angular Team. (2023). ",(0,d.jsx)(n.a,{href:"https://angular.dev/guide/input-signal",children:"Input Signals Guide"})]}),"\n",(0,d.jsxs)(n.li,{children:["Angular Team. (2023). ",(0,d.jsx)(n.a,{href:"https://angular.dev/guide/signals",children:"Signals Overview"})]}),"\n",(0,d.jsxs)(n.li,{children:["Netanel Basal. (2023). ",(0,d.jsx)(n.a,{href:"https://netbasal.com",children:"Angular Signals Deep Dive"})]}),"\n",(0,d.jsx)(n.li,{children:"Brown, S. (2024). Clean Angular Architecture. Leanpub."}),"\n",(0,d.jsxs)(n.li,{children:["Angular Team. (2024). ",(0,d.jsx)(n.a,{href:"https://angular.io/guide/component-interaction",children:"Input/Output Traditional Guide"})]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>r});var s=t(6540);const d={},i=s.createContext(d);function c(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:c(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);