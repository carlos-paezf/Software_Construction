"use strict";(self.webpackChunksoftware_construction=self.webpackChunksoftware_construction||[]).push([[8288],{2332:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"angular_from_scratch/services_in_angular_and_dependency_injection","title":"Servicios en Angular e Inyecci\xf3n de Dependencias","description":"Un servicio es una clase que encapsula l\xf3gica de negocio o funcionalidad que no pertenece directamente a un componente, como:","source":"@site/docs/03_angular_from_scratch/09_services_in_angular_and_dependency_injection.md","sourceDirName":"03_angular_from_scratch","slug":"/angular_from_scratch/services_in_angular_and_dependency_injection","permalink":"/Software_Construction/docs/angular_from_scratch/services_in_angular_and_dependency_injection","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/03_angular_from_scratch/09_services_in_angular_and_dependency_injection.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9},"sidebar":"tutorialSidebar","previous":{"title":"Comunicaci\xf3n entre componentes: @Input y @Output","permalink":"/Software_Construction/docs/angular_from_scratch/communication_between_components_input_and_output"},"next":{"title":"Routing en Angular (b\xe1sico y avanzado)","permalink":"/Software_Construction/docs/angular_from_scratch/routing_in_angular_basic_and_advanced"}}');var c=i(4848),s=i(8453);const a={sidebar_position:9},t="Servicios en Angular e Inyecci\xf3n de Dependencias",o={},l=[{value:"\xbfQu\xe9 es la inyecci\xf3n de dependencias (DI)?",id:"qu\xe9-es-la-inyecci\xf3n-de-dependencias-di",level:2},{value:"Estructura b\xe1sica de un servicio",id:"estructura-b\xe1sica-de-un-servicio",level:2},{value:"Inyecci\xf3n en componentes",id:"inyecci\xf3n-en-componentes",level:2},{value:"Tipos de proveedores en Angular",id:"tipos-de-proveedores-en-angular",level:2},{value:"Ejemplo con productos",id:"ejemplo-con-productos",level:2},{value:"Relaci\xf3n con la arquitectura",id:"relaci\xf3n-con-la-arquitectura",level:2},{value:"Buenas pr\xe1cticas",id:"buenas-pr\xe1cticas",level:2},{value:"Referencias",id:"referencias",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"servicios-en-angular-e-inyecci\xf3n-de-dependencias",children:"Servicios en Angular e Inyecci\xf3n de Dependencias"})}),"\n",(0,c.jsxs)(n.p,{children:["Un ",(0,c.jsx)(n.strong,{children:"servicio"})," es una clase que encapsula l\xf3gica de negocio o funcionalidad que ",(0,c.jsx)(n.strong,{children:"no pertenece directamente a un componente"}),", como:"]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Manejo de datos o API REST"}),"\n",(0,c.jsx)(n.li,{children:"Almacenamiento local"}),"\n",(0,c.jsx)(n.li,{children:"Autenticaci\xf3n y autorizaci\xf3n"}),"\n",(0,c.jsx)(n.li,{children:"Compartir informaci\xf3n entre componentes"}),"\n",(0,c.jsx)(n.li,{children:"Control de estado de la aplicaci\xf3n"}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:["Angular fomenta el uso de servicios para separar las responsabilidades y aplicar el principio ",(0,c.jsx)(n.strong,{children:"Single Responsibility"})," del modelo SOLID."]}),"\n",(0,c.jsx)(n.h2,{id:"qu\xe9-es-la-inyecci\xf3n-de-dependencias-di",children:"\xbfQu\xe9 es la inyecci\xf3n de dependencias (DI)?"}),"\n",(0,c.jsxs)(n.p,{children:["La ",(0,c.jsx)(n.strong,{children:"Inyecci\xf3n de Dependencias (Dependency Injection"}),") es un patr\xf3n de dise\xf1o que permite a una clase obtener las instancias que necesita ",(0,c.jsx)(n.strong,{children:"sin crearlas directamente"}),", promoviendo:"]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Bajo acoplamiento"}),"\n",(0,c.jsx)(n.li,{children:"Alta cohesi\xf3n"}),"\n",(0,c.jsx)(n.li,{children:"Facilidad de prueba"}),"\n",(0,c.jsx)(n.li,{children:"Reutilizaci\xf3n de c\xf3digo"}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:["En Angular, la ",(0,c.jsx)(n.strong,{children:"DI se implementa autom\xe1ticamente"})," mediante el sistema de Inyector (",(0,c.jsx)(n.code,{children:"Injector"}),"), que administra la creaci\xf3n, provisi\xf3n y ciclo de vida de las dependencias."]}),"\n",(0,c.jsx)(n.h2,{id:"estructura-b\xe1sica-de-un-servicio",children:"Estructura b\xe1sica de un servicio"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-ts",metastring:'title="auth-service.ts" showLineNumbers',children:"import { Injectable } from '@angular/core';\n\n// highlight-next-line\n@Injectable({ providedIn: 'root' }) // Se registra autom\xe1ticamente\nexport class AuthService {\n  private isLoggedIn = false;\n\n  login() {\n    this.isLoggedIn = true;\n  }\n\n  logout() {\n    this.isLoggedIn = false;\n  }\n\n  getStatus(): boolean {\n    return this.isLoggedIn;\n  }\n}\n"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"@Injectable()"})," le indica a Angular que esta clase puede ser inyectada."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"providedIn: 'root'"})," significa que el servicio estar\xe1 disponible en toda la aplicaci\xf3n (Singleton global)."]}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"inyecci\xf3n-en-componentes",children:"Inyecci\xf3n en componentes"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-ts",metastring:'title="login-button.ts" showLineNumbers',children:"import { Component, inject } from '@angular/core';\nimport { AuthService } from './auth.service';\n\n@Component({\n  selector: 'login-button',\n  standalone: true,\n  template: `<button (click)=\"login()\">Login</button>`\n})\nexport class LoginButton {\n  private authService = inject(AuthService); // Angular 14+\n\n  login() {\n    this.authService.login();\n  }\n}\n"})}),"\n",(0,c.jsxs)(n.p,{children:["Desde Angular 14+, es posible usar ",(0,c.jsx)(n.code,{children:"inject()"})," en lugar del constructor para inyectar servicios."]}),"\n",(0,c.jsx)(n.mermaid,{value:"classDiagram\n    direction BT\n    class AuthService {\n      -isLoggedIn: boolean\n      +login(): void\n      +logout(): void\n      +getStatus(): boolean\n    }\n\n    class LoginButton {\n      -authService: AuthService\n      +login(): void\n    }\n\n    AuthService <.. LoginButton : inject"}),"\n",(0,c.jsx)(n.h2,{id:"tipos-de-proveedores-en-angular",children:"Tipos de proveedores en Angular"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Tipo"}),(0,c.jsx)(n.th,{children:"Uso"}),(0,c.jsx)(n.th,{children:"Ejemplo"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"providedIn: 'root'"})}),(0,c.jsx)(n.td,{children:"Global singleton"}),(0,c.jsx)(n.td,{children:"Recomendado para la mayor\xeda de casos"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"providedIn: 'any'"})}),(0,c.jsx)(n.td,{children:"Instancia por m\xf3dulo o componente"}),(0,c.jsx)(n.td,{children:"\xdatil en lazy loading"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsxs)(n.td,{children:[(0,c.jsx)(n.code,{children:"providers: []"})," en ",(0,c.jsx)(n.code,{children:"@Component"})]}),(0,c.jsx)(n.td,{children:"Scoped a un componente espec\xedfico"}),(0,c.jsx)(n.td,{children:"A\xedsla estado"})]})]})]}),"\n",(0,c.jsx)(n.h2,{id:"ejemplo-con-productos",children:"Ejemplo con productos"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-ts",metastring:'title="product-service.ts" showLineNumbers',children:"@Injectable({ providedIn: 'root' })\nexport class ProductService {\n  private products = signal<string[]>([]);\n\n  addProduct(name: string) {\n    this.products.update(p => [...p, name]);\n  }\n\n  getAll() {\n    return this.products;\n  }\n}\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-ts",metastring:'title="product-list.ts" showLineNumbers',children:"@Component({\n  selector: 'product-list',\n  standalone: true,\n  template: `<ul><li *ngFor=\"let p of products()\">{{ p }}</li></ul>`\n})\nexport class ProductList {\n  private service = inject(ProductService);\n  readonly products = this.service.getAll();\n}\n"})}),"\n",(0,c.jsx)(n.h2,{id:"relaci\xf3n-con-la-arquitectura",children:"Relaci\xf3n con la arquitectura"}),"\n",(0,c.jsx)(n.p,{children:"En Clean Architecture o arquitectura modular:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["Servicios representan la ",(0,c.jsx)(n.strong,{children:"capa de aplicaci\xf3n"})," o ",(0,c.jsx)(n.strong,{children:"infraestructura"}),"."]}),"\n",(0,c.jsx)(n.li,{children:"Se inyectan en controladores, componentes o casos de uso."}),"\n",(0,c.jsxs)(n.li,{children:["Pueden actuar como ",(0,c.jsx)(n.strong,{children:"adaptadores"})," entre componentes y l\xf3gica de negocio."]}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"buenas-pr\xe1cticas",children:"Buenas pr\xe1cticas"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["Registra servicios con ",(0,c.jsx)(n.code,{children:"providedIn: 'root'"})," por defecto"]}),"\n",(0,c.jsx)(n.li,{children:"Evita l\xf3gica de negocio compleja en componentes"}),"\n",(0,c.jsxs)(n.li,{children:["Inyecta con ",(0,c.jsx)(n.code,{children:"inject()"})," en lugar de ",(0,c.jsx)(n.code,{children:"constructor()"})," para servicios sin dependencia circular"]}),"\n",(0,c.jsx)(n.li,{children:"Crea servicios especializados por dominio (SRP)"}),"\n",(0,c.jsx)(n.li,{children:"Aisla servicios en m\xf3dulos si tienen responsabilidades locales"}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"referencias",children:"Referencias"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["Angular Team. (2024). ",(0,c.jsx)(n.a,{href:"https://angular.dev/guide/dependency-injection",children:"Dependency injection in Angular"}),". Angular.dev."]}),"\n",(0,c.jsxs)(n.li,{children:["Angular Team. (2024). ",(0,c.jsx)(n.a,{href:"https://angular.dev/guide/providers",children:"Injectable providers"}),". Angular.dev."]}),"\n",(0,c.jsx)(n.li,{children:"Brown, S. (2023). Clean Angular Architecture. Leanpub."}),"\n",(0,c.jsxs)(n.li,{children:["Netanel Basal. (2023). ",(0,c.jsx)(n.a,{href:"https://netbasal.com",children:"Simplifying Angular DI with inject()"}),"."]}),"\n",(0,c.jsx)(n.li,{children:"Eckles, J. (2023). Mastering Angular Services. Packt Publishing."}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>t});var r=i(6540);const c={},s=r.createContext(c);function a(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:a(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);